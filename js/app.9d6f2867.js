(function(e){function t(t){for(var i,r,a=t[0],l=t[1],c=t[2],d=0,p=[];d<a.length;d++)r=a[d],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&p.push(o[r][0]),o[r]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i]);u&&u(t);while(p.length)p.shift()();return s.push.apply(s,c||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],i=!0,a=1;a<n.length;a++){var l=n[a];0!==o[l]&&(i=!1)}i&&(s.splice(t--,1),e=r(r.s=n[0]))}return e}var i={},o={app:0},s=[];function r(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=i,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="https://lison16.github.io/mouse-selection/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],l=a.push.bind(a);a.push=t,a=a.slice();for(var c=0;c<a.length;c++)t(a[c]);var u=l;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},2395:function(e,t,n){},"7c55":function(e,t,n){"use strict";var i=n("2395"),o=n.n(i);o.a},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("2b0e"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("div",{staticClass:"options"},[n("span",[e._v("左侧容器内框选")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.usable,expression:"usable"}],attrs:{type:"radio",id:"disabled",value:"disabled"},domProps:{checked:e._q(e.usable,"disabled")},on:{change:function(t){e.usable="disabled"}}}),n("label",{attrs:{for:"disabled"}},[e._v("不可用")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.usable,expression:"usable"}],attrs:{type:"radio",id:"able",value:"able"},domProps:{checked:e._q(e.usable,"able")},on:{change:function(t){e.usable="able"}}}),n("label",{attrs:{for:"able"}},[e._v("可用")]),n("button",{staticStyle:{"margin-left":"20px"},on:{click:e.destroyRight}},[e._v("注销右侧框选")]),n("span",[e._v("注销后，右侧内部框选失效，但是作用在document上的还存在")])]),n("div",{staticClass:"box"},["wrapper"===e.mode?n("div",{staticClass:"test-box test-inner-wrapper"},[n("div",{staticClass:"wrapper left-wrapper",class:{"selected-wrapper":e.isInTheBoxWrapList[0]}},e._l(50,(function(t){return n("div",{key:"left_"+t,staticClass:"inner-box",class:{"selected-box":e.isInTheBoxList[t-1]},attrs:{id:"left_inner_box_"+t}})})),0),n("div",{staticClass:"wrapper right-wrapper",class:{"selected-wrapper":e.isInTheBoxWrapList[1]}})]):n("div",{staticClass:"test-box test-full-page"},[e._v("可以自定义框选矩形样式")])])])},s=[],r=(n("a630"),n("d81d"),n("3ca3"),n("d4ec")),a=n("bee2"),l=n("2caf"),c=n("262e"),u=n("9ab4"),d=n("60a3"),p=(n("7db0"),n("caad"),n("2532"),n("53ca"));function h(e){return b(e)}function f(e){return"#document"===(null===e||void 0===e?void 0:e.nodeName)}var m="position: absolute;pointer-events: none;border: 1px solid rgb(45, 140, 240);background: rgba(45, 140, 240, 0.2);",v=function(){return{left:0,top:0,width:0,height:0,right:0,bottom:0}},g=function(){function e(t,n){var i=this;Object(r["a"])(this,e),this.domRect=v(),this.selectionPagePositionRect=v(),this.selectionDOMPositionRect=v(),this.startX=0,this.startY=0,this.moving=!1,this.RectangleElementClassName="frame-selection-rectangle-element",this._selectStart=function(e){var t,n,o,s;if((null===(t=i.config)||void 0===t?void 0:t.stopPropagation)&&e.stopPropagation(),0===e.button&&(!(null===(n=i.config)||void 0===n?void 0:n.disabled)||!(null===(o=i.config)||void 0===o?void 0:o.disabled()))){i.rectangleElement=i._createRectangleElement(),i.moving=!0,i.domRect=i._getDOMRect(i.targetDom);var r=e.pageX+i.wrapDOM.scrollLeft,a=e.pageY+i.wrapDOM.scrollTop;i._setRectangleElementStyle("display","block"),i._setStartPosition(r-2,a-2),i.selectionPagePositionRect=i.getSelectionPagePosition(r,a),i.selectionDOMPositionRect=i.getSelectionDOMPosition(i.selectionPagePositionRect),i._updateRectangleElementStyle(i.selectionDOMPositionRect);var l=null===(s=i.config)||void 0===s?void 0:s.onMousedown;l&&l(e),document.addEventListener("mouseup",i._selectEnd),document.addEventListener("mousemove",i._selecting)}},this._selecting=function(e){var t;if(i.moving){var n=e.pageX+i.wrapDOM.scrollLeft,o=e.pageY+i.wrapDOM.scrollTop;i.selectionPagePositionRect=i.getSelectionPagePosition(n,o);var s=e;i.selectionDOMPositionRect=i.getSelectionDOMPosition(i.selectionPagePositionRect),s.selectionDOMRect=JSON.parse(JSON.stringify(i.selectionDOMPositionRect)),i._updateRectangleElementStyle(i.selectionDOMPositionRect);var r=null===(t=i.config)||void 0===t?void 0:t.onMousemove;r&&r(s)}},this._selectEnd=function(e){var t;document.removeEventListener("mousemove",i._selecting),document.removeEventListener("mouseup",i._selectEnd),i._setRectangleElementStyle("display","none"),i.moving=!1;var n=null===(t=i.config)||void 0===t?void 0:t.onMouseup;n&&n(e)};var o=document;this.config=n,h(t)?o=t:t&&(this.config=t),this.targetDom=o,f(this.targetDom)?this.wrapDOM=document.body:this.wrapDOM=this.targetDom,this._addMousedownListener(this.targetDom)}return Object(a["a"])(e,[{key:"getSelectionPagePosition",value:function(e,t){var n=this.domRect;e-=2,t-=2;var i=Math.max(n.left,Math.min(this.startX,e)),o=Math.max(n.top,Math.min(this.startY,t)),s=Math.max(this.startX,Math.min(e,this.wrapDOM.scrollWidth+n.left-2))-i,r=Math.max(this.startY,Math.min(t,this.wrapDOM.scrollHeight+n.top-2))-o;return{left:i,top:o,width:s,height:r,right:i+s,bottom:o+r}}},{key:"getSelectionDOMPosition",value:function(e){var t=e.left,n=e.top,i=e.width,o=e.height,s=e.right,r=e.bottom,a=this.domRect,l=a.left,c=a.top;return{left:t-l,top:n-c,width:i,height:o,right:s-l,bottom:r-c}}},{key:"isInTheSelection",value:function(e){var t=e.left,n=e.top,i=e.width,o=e.height,s=this.selectionDOMPositionRect,r=s.left,a=s.top,l=s.width,c=s.height;return t+i>r&&r+l>t&&n+o>a&&a+c>n}},{key:"destroy",value:function(){this.rectangleElement&&this.wrapDOM.removeChild(this.rectangleElement),this._removeMousedownListener(this.targetDom),this.rectangleElement=null,this.targetDom=null,this.domRect=null,this.selectionPagePositionRect=null,this.selectionDOMPositionRect=null,this.startX=null,this.startY=null,this.moving=null,this.wrapDOM=null}},{key:"_createRectangleElement",value:function(){var e,t,n=this,i=Array.from(this.wrapDOM.children).find((function(e){return e.className.includes(n.RectangleElementClassName)}));i&&this.wrapDOM.removeChild(i),i=document.createElement("div");var o=null===(e=this.config)||void 0===e?void 0:e.className;return i.className=this.RectangleElementClassName+(o?" ".concat(o):""),i.style.cssText=m+"z-index: ".concat((null===(t=this.config)||void 0===t?void 0:t.zIndex)||99999999),this.wrapDOM.appendChild(i),i}},{key:"_setStartPosition",value:function(e,t){this.startX=e,this.startY=t}},{key:"_addMousedownListener",value:function(e){e.addEventListener("mousedown",this._selectStart)}},{key:"_removeMousedownListener",value:function(e){null===e||void 0===e||e.removeEventListener("mousedown",this._selectStart)}},{key:"_getDOMRect",value:function(e){var t=f(e)?{left:0,top:0,width:window.innerWidth,height:window.innerHeight,right:window.innerWidth,bottom:window.innerHeight}:e.getBoundingClientRect();return t}},{key:"_setRectangleElementStyle",value:function(e,t){this.rectangleElement.style[e]=t}},{key:"_updateRectangleElementStyle",value:function(e){var t=e.left,n=e.top,i=e.width,o=e.height;this._setRectangleElementStyle("left","".concat(t,"px")),this._setRectangleElementStyle("top","".concat(n,"px")),this._setRectangleElementStyle("width","".concat(i,"px")),this._setRectangleElementStyle("height","".concat(o,"px"))}}]),e}();function b(e){return!(!e||"object"!==Object(p["a"])(e))&&("function"===typeof HTMLElement?e instanceof HTMLElement||e instanceof HTMLDocument:e&&"object"===Object(p["a"])(e)&&e.nodeType&&"string"===typeof e.nodeName)}var w=g,y=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(r["a"])(this,n),e=t.apply(this,arguments),e.isInTheBoxList=[],e.isInTheBoxWrapList=[],e.innerBoxRectList=[],e.usable="able",e}return Object(a["a"])(n,[{key:"isInnerSelection",value:function(){}},{key:"destroyRight",value:function(){this.rightWrapperMouseSelection.destroy()}},{key:"mounted",value:function(){var e=this;this.wrapperMouseSelection=new w(document.querySelector(".left-wrapper"),{onMousedown:function(){e.innerBoxRectList=Array.from(document.querySelectorAll(".inner-box")).map((function(e){return{left:e.offsetLeft,top:e.offsetTop,width:e.offsetWidth,height:e.offsetHeight}}))},onMousemove:function(){e.isInTheBoxList=e.innerBoxRectList.map((function(t){return e.wrapperMouseSelection.isInTheSelection(t)}))},onMouseup:function(){e.isInTheBoxList=[]},disabled:function(){return"disabled"===e.usable},stopPropagation:!0}),this.rightWrapperMouseSelection=new w(document.querySelector(".right-wrapper"),{className:"right-wrapper-selection",stopPropagation:!0}),this.documentSelection=new w(document,{onMousedown:function(){e.innerBoxRectList=Array.from(document.querySelectorAll(".wrapper")).map((function(e){return e.getBoundingClientRect()}))},onMousemove:function(t){e.isInTheBoxWrapList=e.innerBoxRectList.map((function(t){return e.documentSelection.isInTheSelection(t)}))},onMouseup:function(){e.isInTheBoxWrapList=[]}})}}]),n}(d["b"]);y=Object(u["a"])([Object(d["a"])({data:function(){return{mode:"wrapper"}}})],y);var M=y,O=M,_=(n("7c55"),n("2877")),R=Object(_["a"])(O,o,s,!1,null,null,null),P=R.exports;i["a"].config.productionTip=!1,new i["a"]({render:function(e){return e(P)}}).$mount("#app")}});